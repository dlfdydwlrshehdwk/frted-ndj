<!DOCTYPE html>
<html lang="ko">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>배열의 메서드 활용</title>
    <style>
        html,
        body {
            margin: 0;
            padding: 0;
        }

        h1,
        h2 {
            text-align: center;
        }

        .controler {
            padding: 15px;
            width: 100%;
            text-align: center;
        }

        .cont ul {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            margin: 0;
            padding: 0;
            list-style: none;
            overflow: hidden;
        }

        .cont li {
            width: 100px;
            height: 100px;
            border: 2px solid red;
            border-radius: 50%;
            margin: 10px;
            text-align: center;
            line-height: 100px;
            font-size: 25px;
            white-space: nowrap;
        }

        /* 배열정보 보이기 */
        .showit {
            padding: 15px;
            border: 4px dotted blue;
            text-align: center;
            font-size: 20px;
            font-weight: bold;
        }

        /* 버튼 */
        .mbtn,
        #sel {
            font-size: 20px;
            padding: 10px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        /* 입력양식 */
        label,input,select {
            font-size: 20px;
        }
    </style>
    <script>
        /////////// 로드구역 ///////////////////////////
        window.addEventListener("DOMContentLoaded",()=>{

            console.log("로딩완료!");
        // 이벤트대상 
        const mbtn = document.querySelectorAll(".mbtn");
        // 출력대상
        // 글씨출력대상
        const showit = document.querySelector(".showit");
        // 그림출력대상
        const cont = document.querySelector(".cont");
        // 선택과일개수
        let anum = document.querySelector("#anum");
        // 현재과일모음
        let sel = document.querySelector("#sel");
        // 지울과일
        const delnum = document.querySelector("#delnum");

        // 1. 배열변수 선언과 할당 
        const fruit = ["배","사과","용과","딸기"];

        // 2. 과일명과 배경이미지명을 매칭함 -> 객체
        const frObj ={
            "배" : "fruits_01",
            "사과" : "fruits_02",
            "용과" : "fruits_14",
            "딸기" : "fruits_09",
            "두리안" : "fruits_17",
            "바나나" : "fruits_15",
            "수박" : "fruits_12",
            "파인애플" : "fruits_13",
            "망고" : "fruits_24",
            "오렌지" : "fruits_03",
            "체리" : "fruits_05",
            "멜론" : "fruits_11",
            "블루베리" : "fruits_20",
            "레몬" : "fruits_04",
        }; // frObj 객체 ////

        // 처음에 배열을 문자화해놓기
        const showArr = () => {
            showit.innerText=fruit.join("*");
        }
        // 최초실행해야하니 실행
        showArr();
        
        // 0번버튼 클릭시 
        mbtn[0].onclick = () =>{
            // ul을 미리만들어놓고 
            let hcode = "<ul>";
            
            // for문돌려서 li를 현재 배열수만큼 돌려주기 + 사진찍기
            fruit.forEach((ele)=>{
                console.log(ele)
                hcode += `
                <li style="background: url(addimg/${frObj[ele]}.png) no-repeat center/cover;">${ele}</li>  
                `;
            })/////
            // ul코드 닫아주기
            hcode += "</ul>";
            // ul출력
            cont.innerHTML=hcode;
        };//onclick////


        // 바로실행코드 추가하고싶은 과일목록들을 다 읽어서 올려야하기에
        //  forin 문으로 싹다 읽어서 x로 만들어 넣어줌
        let code;

        (()=>{
            console.log("실행");
            // 빈변수를 만들어줌
            // for문돌려서 frObj객체의 데이터를 담아줌
            for(let x in frObj){
                // console.log(x);
                code += `<option>${x}</option>`;
            }//for in////

            sel.innerHTML=code;
        })();


        // 1번 버튼 클릭시
        // sel에서 누른 과일을 배열 뒤에 추가해줘야함
        mbtn[1].onclick=()=>{
            console.log("1번버튼")
            fruit.push(sel.value)
            showArr();
            
        }//click////




        // 2번 버튼 클릭시
        mbtn[2].onclick=()=>{
            fruit.unshift(sel.value)
            showArr();
        };//click////
        // 3번 버튼 클릭시
        mbtn[3].onclick=()=>{
            fruit.pop();
            showArr();
        };//click
        // 4번 버튼 클릭시
        mbtn[4].onclick=()=>{
            fruit.shift();
            showArr();
        }
        // 5번 버튼 클릭시 이전에
        // 현재 과일의 목록이 선택과일박스에 들어가 있어야한다. 그리고 배열이 추가될때
        // 삭제될때 이 함수가 실행이 되어야한다. 업데이트를 위해.
        // 선택과일 - anum


        // 5번 버튼 클릭시
        
        mbtn[5].onclick
        // 6번 버튼 클릭시
        mbtn[6].onclick
        


        }); ////////// 로드구역 ////////////////////////
    </script>
</head>

<body>
    <h1>배열의 메서드 활용</h1>
    <!-- 배열정보보기 -->
    <h2>배열정보보기</h2>
    <div class="showit"></div>
    <!-- 컨트롤 버튼 -->
    <div class="controler">
        <!-- 과일기능버튼 -->
        <button class="mbtn">과일주세요~!</button> <br>
        <button class="mbtn">뒷배열추가요~!</button>
        <button class="mbtn">앞배열추가요~!</button>
        <button class="mbtn">뒷배열삭제요~!</button>
        <button class="mbtn">앞배열삭제요~!</button> <br>

        <button class="mbtn">중간배열삭제</button>
        <label for="anum">선택과일:</label>
        <select name="anum" id="anum">
            <option>0</option>
        </select>
        <label for="delnum">지울개수:</label>
        <input type="text" id="delnum" value="1" maxlength="1">
        <br>

        <button class="mbtn">중간배열삽입</button>
        위의 선택번호사용+과일은 리스트에서 선택!
        <!-- 과일선택박스 -->
        <select name="sel" id="sel">
            <option>과일</option>
        </select>
    </div>
    <!-- 출력박스 -->
    <div class="cont">
    </div>
</body>

</html>