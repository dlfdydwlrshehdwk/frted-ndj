<!doctype html>
<html>
<head>
<meta charset="utf-8">
<title> append()활용  </title>
<!-- jQuery library -->
<script src="jquery-1.7.2.min.js"></script>
	<script>
	$(function(){// jQB //////////////////////////
		// 미션: 추가버튼을 클릭하면 이미지가 랜덤하게 #container에 추가되게하시오.
	
		// 변경대상 - #container
		const tg = $('#container')
		
		// 1~5사이의 랜덤수만들기
		let rdm = Math.ceil(Math.random()*5);
		console.log(rdm)

		function appendImg(){
			let rdm = Math.ceil(Math.random()*5);
			tg.append(`
				<img src="th_pic${rdm}.jpg" alt="이미지">
			`)
			console.log(rdm)
		} //appendImg 함수 ////

		$('#append').click(function(){
			appendImg();
		});//click////

		// 추가미션 : 자동버튼(#auto)클릭시 인터발 함수로 
		// 랜덤수 이미지 계속 추가하기 기능 만들기
		// + 멈춤버튼(#stop) 클릭시 인터발함수 멈추기

		// 인터발용 변수 
		let autoI;
		// 인터발관련 JS내장함수 : setInterval(함수,시간)
		// 멈추기 : clearInterval(변수)
		$('#auto').click(()=>{

			// 인터발 중복실행방지
			if(autoI) return;
			// autiI가 할당되면 true로 처리
			// 할당전에는 undefined이므로 false처리됨

			// autoI = setInterval(appendImg,200);
			autoI = setInterval(()=>{
				$("#append").trigger("click");
				// trigger(이벤트명) 메서드
				// -> 선택요소에 이벤트를 강제발생시키는 메서드
				// JS에서는 click() 메서드형태로 트리거함
			},200)
			console.log('인터발시작',autoI)
		})
		$('#stop').click(()=>{

			// 인터발멈추기
			clearInterval(autoI)
			
			// 다시 인터발 처리하도록 autiI값 설정
			autoI = false;
			console.log('인터발멈추기')
		})
		
	});/// jQB ////////////////////////////////////
	//////////////////////////////////////////////
	
	
	</script>
	
	
	
	
<style>
  div {border:#00F solid 1px;}
</style>
</head>
 
<body>

<button id ="append"  title="append">추가</button>
<button id="auto">자동</button>
<button id="stop">멈춤</button>

<div id="container"></div>

	
<!---------- jQuery code Start ---------->
<script>
          


</script>

</body>
</html>
